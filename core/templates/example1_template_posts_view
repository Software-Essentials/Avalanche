<div class="container jumbotron">
    <h1>View</h1>
    <div class="row">
        <form class="col-12 card p-3 my-1" method="post" action="/post/update" id="createForm" name="createForm">
            <div class="form-group">
                <input class="form-control" type="text" name="postName" placeholder="Title" value="{{post.name}}" />
            </div>
            <div class="form-group">
                <input class="form-control" type="text" name="postBody" placeholder="Body" value="{{post.body}}" />
            </div>
            <div class="form-group">
                <input class="btn btn-primary" type="submit" value="Save post" />
                <button class="btn btn-outline-danger" onclick="destroy({{post.ID}});">Delete</button>
            </div>
        </form>
    </div>
    <script>
        function update(ID) {
            var origin = window.location.origin;
            var xhttp = new XMLHttpRequest();
            xhttp.open("PUT", origin + "/post/update", true);
            xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
            xhttp.onreadystatechange = function() {
                if(xhttp.readyState == 4 && xhttp.status == 200) {
                    window.location.reload();
                }
            }
            var name = $("[name=postName]").val();
            var body = $("[name=postBody]").val();
            xhttp.send("ID=" + ID + "&postName=" + name + "&postBody=" + body);
        }
        function destroy(ID) {
            var origin = window.location.origin;
            var xhttp = new XMLHttpRequest();
            xhttp.open("DELETE", origin + "/post/destroy", true);
            xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
            xhttp.onreadystatechange = function() {
                if(xhttp.readyState == 4 && xhttp.status == 200) {
                    window.location.reload();
                }
            }
            xhttp.send("ID=" + ID);
        }
    </script>
</div>